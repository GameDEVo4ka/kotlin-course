package com.gamedevo4ka.kotlincourse.lesson8

//Создайте функцию, которая будет анализировать входящие фразы и применять к ним различные преобразования, делая текст более ироничным или забавным. Функция должна уметь распознавать ключевые слова или условия и соответственно изменять фразу.
//Правила Проверки и Преобразования:
//●	Если фраза содержит слово "невозможно":
//○	Преобразование: Замените "невозможно" на "совершенно точно возможно, просто требует времени".
//●	Если фраза начинается с "Я не уверен":
//○	Преобразование: Добавьте в конец фразы ", но моя интуиция говорит об обратном".
//●	Если фраза содержит слово "катастрофа":
//○	Преобразование: Замените "катастрофа" на "интересное событие".
//●	Если фраза заканчивается на "без проблем":
//○	Преобразование: Замените "без проблем" на "с парой интересных вызовов на пути".
//●	Если фраза содержит только одно слово:
//○	Преобразование: Добавьте перед словом "Иногда," и после слова ", но не всегда".
//Примеры Тестовых Фраз:
//●	"Это невозможно выполнить за один день"
//●	"Я не уверен в успехе этого проекта"
//●	"Произошла катастрофа на сервере"
//●	"Этот код работает без проблем"
//●	"Удача"
//
fun main() {
    val phrases = listOf(
        "Это невозможно выполнить за один день",
        "Я не уверен в успехе этого проекта",
        "Произошла катастрофа на сервере",
        "Этот код работает без проблем",
        "Удача"
    )
    for (phrase in phrases) {
        println(transformPhrase(phrase))
    }
}
fun transformPhrase(phrase: String): String {
    var transformedPhrase = phrase
    if ("невозможно" in transformedPhrase) {
        transformedPhrase = transformedPhrase.replace("невозможно", "совершенно точно возможно, просто требует времени")
    }
    if (transformedPhrase.startsWith("Я не уверен")) {
        transformedPhrase += ", но моя интуиция говорит об обратном"
    }
    if ("катастрофа" in transformedPhrase) {
        transformedPhrase = transformedPhrase.replace("катастрофа", "интересное событие")
    }
    if (transformedPhrase.endsWith("без проблем")) {
        transformedPhrase = transformedPhrase.replace("без проблем", "с парой интересных вызовов на пути")
    }
    if (transformedPhrase.split(" ").size == 1) {
        transformedPhrase = "Иногда, $transformedPhrase, но не всегда"
    }
    return transformedPhrase
}
//Задание 1: Извлечение Даты из Строки Лога. Используй indexOf или split для получения правой части сообщения.
//●	Описание: У вас есть строка лога вида "Пользователь вошел в систему -> 2021-12-01 09:48:23". Извлеките отдельно дату и время из этой строки и сразу распечатай их по очереди.
fun main() {
    val log = "Пользователь вошел в систему -> 2021-12-01 09:48:23"
    val parts = log.split("->")
    val dateTime = parts[1].trim()
    val (date, time) = dateTime.split(" ")
    println("Дата: $date")
    println("Время: $time")
}
//Задание 2: Маскирование Личных Данных
//●	Описание: Дана строка с номером кредитной карты "4539 1488 0343 6467". Замаскируйте все цифры, кроме последних четырех, символами "*".
fun main() {
    val cardNumber = "4539 1488 0343 6467"
    val maskedCardNumber = cardNumber.replace(Regex("\\d(?=\\d{4})"), "*")
    println(maskedCardNumber)
}
//Задание 3: Форматирование Адреса Электронной Почты. Используй replace
//●	Описание: У вас есть электронный адрес "username@example.com". Преобразуйте его в строку "username [at] example [dot] com".
fun main() {
    val email = "username@example.com"
    val formattedEmail = email
        .replace("@", " [at] ")
        .replace(".", " [dot] ")
    println(formattedEmail)
}
//Задание 4: Извлечение Имени Файла из Пути
//●	Описание: Дан путь к файлу "C:/Пользователи/Документы/report.txt". Извлеките название файла с расширением.
fun main(){
    val filePath = "C:/Пользователи/Документы/report.txt"
    val fileName = filePath.substringAfterLast('/')
    println(fileName)
}
//Задание 5: Создание Аббревиатуры из Фразы. Используй split с набором символов для разделения. Используй for для перебора слов. Используй var переменную для накопления первых букв.
//●	Описание: У вас есть фраза, например "Объектно-ориентированное программирование". Создайте аббревиатуру из начальных букв слов (например, "ООП").
fun main() {
    val oop = "Объектно-ориентированное программирование"
    val oop1 = oop.split(" ", "-")
    var abbrev = " "
    for (word in oop1) {
        abbrev += word.substring(0, 1).uppercase()
        println(abbrev)
    }
}